(()=>{var t={817:t=>{"use strict";if(void 0===flarum.extensions["askvortsov-rich-text"]){var o=new Error("Cannot find module 'flarum.extensions['askvortsov-rich-text']'");throw o.code="MODULE_NOT_FOUND",o}t.exports=flarum.extensions["askvortsov-rich-text"]}},o={};function n(r){var e=o[r];if(void 0!==e)return e.exports;var a=o[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.n=t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return n.d(o,{a:o}),o},n.d=(t,o)=>{for(var r in o)n.o(o,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},n.o=(t,o)=>Object.prototype.hasOwnProperty.call(t,o),(()=>{"use strict";const t=flarum.core.compat["forum/app"];var o=n.n(t);const r=flarum.core.compat["common/extend"],e=flarum.core.compat["common/components/Button"];var a=n.n(e),i=function(t,n){var r=o().translator.trans(t);return r&&r!==t?r:n};function c(t,o){var n="["+o+"]",r="[/"+o+"]",e=t.state.selection;if(e&&!e.empty){var a=e.from,i=e.to,c=t.state.doc.textBetween(a,i,"\n");t.chain().focus().deleteRange({from:a,to:i}).insertContent(n+c+r).run()}else{t.chain().focus().insertContent(n+r).run();var s=t.state.selection.from-r.length;t.chain().setTextSelection({from:s,to:s}).run()}}o().initializers.add("lady-byron/more-format",function(){var t,o,e,s,l;try{l=n(817)}catch(t){return void console.warn("[more-format] @askvortsov-rich-text not available",t)}var u=(null==(t=l)||null==(t=t.components)?void 0:t.RichTextEditor)||(null==(o=l)?void 0:o.RichTextEditor)||(null==(e=l)||null==(e=e.default)||null==(e=e.components)?void 0:e.RichTextEditor)||(null==(s=l)||null==(s=s.default)?void 0:s.RichTextEditor);u?(0,r.extend)(u.prototype,"toolbarItems",function(t){var o,n=this.editor||(null==(o=this.attrs)?void 0:o.editor);n&&n.chain&&(t.add("lb-blank-paragraph",m(a(),{className:"Button Button--icon",icon:"fas fa-paragraph",title:i("lady-byron-more-format.forum.blank_paragraph","空白段落"),onclick:function(){return function(t){t.chain().focus().insertContent({type:"paragraph"}).insertContent(" ").insertContent({type:"paragraph"}).run()}(n)}}),30),t.add("lb-indent",m(a(),{className:"Button Button--icon",icon:"fas fa-indent",title:i("lady-byron-more-format.forum.indent","段首缩进"),onclick:function(){return function(t){try{var o=t.state.selection.$from,n=o.start(o.depth);t.chain().focus().setTextSelection({from:n,to:n}).insertContent("　　").run()}catch(o){t.chain().focus().insertContent("　　").run()}}(n)}}),29),t.add("lb-center",m(a(),{className:"Button Button--icon",icon:"fas fa-align-center",title:i("lady-byron-more-format.forum.center","居中"),onclick:function(){return c(n,"center")}}),28),t.add("lb-right",m(a(),{className:"Button Button--icon",icon:"fas fa-align-right",title:i("lady-byron-more-format.forum.right","右对齐"),onclick:function(){return c(n,"right")}}),27))}):console.warn("[more-format] RichTextEditor export not found on @askvortsov-rich-text",l)})})(),module.exports={}})();
//# sourceMappingURL=forum.js.map