(()=>{var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};(()=>{"use strict";const e=flarum.core.compat["forum/app"];var n=t.n(e),r="data-lb-moreformat-mounted";function o(t,e){void 0===e&&(e=!1);var n=document.querySelector('.RichText-editor[contenteditable="true"]');if(n)return n.focus(),void(e?document.execCommand("insertHTML",!1,t):document.execCommand("insertText",!1,t));var r=document.querySelector(".TextEditor textarea");if(r){var o,a,u=null!=(o=r.selectionStart)?o:r.value.length,l=null!=(a=r.selectionEnd)?a:u;r.value=r.value.slice(0,u)+t+r.value.slice(l),r.selectionStart=r.selectionEnd=u+t.length,r.dispatchEvent(new Event("input",{bubbles:!0})),r.focus()}}function a(t){var e,a=t;if(!a.getAttribute(r)){a.setAttribute(r,"1");var u=null!=(e=a.querySelector(".ButtonGroup"))?e:a,l=function(t,e,n){var r=document.createElement("button");return r.type="button",r.className="Button Button--icon",r.title=t,r.innerHTML='<i class="'+e+'"></i>',r.addEventListener("click",function(t){t.preventDefault(),n()}),r},i=l(n().translator.trans("lady-byron-more-format.forum.blank_paragraph"),"fas fa-paragraph",function(){return o("<p>&nbsp;</p>",!0)}),c=l(n().translator.trans("lady-byron-more-format.forum.indent"),"fas fa-indent",function(){return o("　　",!1)});u.appendChild(i),u.appendChild(c)}}n().initializers.add("lady-byron/more-format",function(){var t,e,r=function(){return Array.from(document.querySelectorAll(".RichTextEditor-toolbar, .TextEditor-controls")).forEach(a)};r(),new MutationObserver(r).observe(document.body,{childList:!0,subtree:!0}),null==(t=n().history)||null==t.on||t.on("push",r),null==(e=n().history)||null==e.on||e.on("pop",r)})})(),module.exports={}})();
//# sourceMappingURL=forum.js.map