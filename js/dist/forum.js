(()=>{var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};(()=>{"use strict";const t=flarum.core.compat["forum/app"];var n=e.n(t),r="data-lb-moreformat-mounted";function o(){var e=document.querySelector('.RichText-editor[contenteditable="true"]');if(e)return e.focus(),void document.execCommand("insertText",!1,"　　");var t=document.querySelector(".TextEditor textarea");if(t){var n,r,o=null!=(n=t.selectionStart)?n:t.value.length,a=null!=(r=t.selectionEnd)?r:o;t.value=t.value.slice(0,o)+"　　"+t.value.slice(a),t.selectionStart=t.selectionEnd=o+2,t.dispatchEvent(new Event("input",{bubbles:!0})),t.focus()}}function a(){var e=document.querySelector('.RichText-editor[contenteditable="true"]');if(e)return e.focus(),document.execCommand("insertParagraph"),document.execCommand("insertText",!1," "),void document.execCommand("insertParagraph");var t=document.querySelector(".TextEditor textarea");if(t){var n,r,o=null!=(n=t.selectionStart)?n:t.value.length,a=null!=(r=t.selectionEnd)?r:o;t.value=t.value.slice(0,o)+"\n \n"+t.value.slice(a),t.selectionStart=t.selectionEnd=o+3,t.dispatchEvent(new Event("input",{bubbles:!0})),t.focus()}}function l(e){var t,l=e;if(!l.getAttribute(r)){l.setAttribute(r,"1");var u=null!=(t=l.querySelector(".ButtonGroup"))?t:l,i=function(e,t,n){var r=document.createElement("button");return r.type="button",r.className="Button Button--icon",r.title=e,r.innerHTML='<i class="'+t+'"></i>',r.addEventListener("click",function(e){e.preventDefault(),n()}),r},c=i(n().translator.trans("lady-byron-more-format.forum.blank_paragraph"),"fas fa-paragraph",a),d=i(n().translator.trans("lady-byron-more-format.forum.indent"),"fas fa-indent",o);u.appendChild(c),u.appendChild(d)}}n().initializers.add("lady-byron/more-format",function(){var e,t,r=function(){return Array.from(document.querySelectorAll(".RichTextEditor-toolbar, .TextEditor-controls")).forEach(l)};r(),new MutationObserver(r).observe(document.body,{childList:!0,subtree:!0}),null==(e=n().history)||null==e.on||e.on("push",r),null==(t=n().history)||null==t.on||t.on("pop",r)})})(),module.exports={}})();
//# sourceMappingURL=forum.js.map