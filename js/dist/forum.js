(()=>{var t={n:n=>{var o=n&&n.__esModule?()=>n.default:()=>n;return t.d(o,{a:o}),o},d:(n,o)=>{for(var r in o)t.o(o,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:o[r]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n)};(()=>{"use strict";const n=flarum.core.compat["forum/app"];var o=t.n(n);const r=flarum.core.compat["common/extend"],e=flarum.core.compat["common/components/Button"];var a=t.n(e);const c=flarum.core.compat["compat/askvortsov-rich-text/forum/components/RichTextEditor"];var i=t.n(c),s=function(t,n){var r=o().translator.trans(t);return r&&r!==t?r:n};function u(t,n){var o="["+n+"]",r="[/"+n+"]",e=t.state,a=e.selection;if(a&&!a.empty){var c=a.from,i=a.to,s=e.doc.textBetween(c,i,"\n");t.chain().focus().deleteRange({from:c,to:i}).insertContent(o+s+r).run()}else{t.chain().focus().insertContent(o+r).run();var u=t.state.selection.from-r.length;t.chain().setTextSelection({from:u,to:u}).run()}}o().initializers.add("lady-byron/more-format",function(){(0,r.extend)(i().prototype,"toolbarItems",function(t){var n,o=this.editor||(null==(n=this.attrs)?void 0:n.editor);o&&o.chain&&(t.add("lb-blank-paragraph",m(a(),{className:"Button Button--icon",icon:"fas fa-paragraph",title:s("lady-byron-more-format.forum.blank_paragraph","空白段落"),onclick:function(){return function(t){t.chain().focus().insertContent({type:"paragraph"}).insertContent(" ").insertContent({type:"paragraph"}).run()}(o)}}),30),t.add("lb-indent",m(a(),{className:"Button Button--icon",icon:"fas fa-indent",title:s("lady-byron-more-format.forum.indent","段首缩进"),onclick:function(){return function(t){try{var n=t.state.selection.$from,o=n.start(n.depth);t.chain().focus().setTextSelection({from:o,to:o}).insertContent("　　").run()}catch(n){t.chain().focus().insertContent("　　").run()}}(o)}}),29),t.add("lb-center",m(a(),{className:"Button Button--icon",icon:"fas fa-align-center",title:s("lady-byron-more-format.forum.center","居中"),onclick:function(){return u(o,"center")}}),28),t.add("lb-right",m(a(),{className:"Button Button--icon",icon:"fas fa-align-right",title:s("lady-byron-more-format.forum.right","右对齐"),onclick:function(){return u(o,"right")}}),27))})})})(),module.exports={}})();
//# sourceMappingURL=forum.js.map